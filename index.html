<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é™¤å¤•å¿«ä¹ - çƒŸèŠ±æŠ½å¥–é¡µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
        }

        /* å…¨å±çƒŸèŠ±èƒŒæ™¯å®¹å™¨ */
        #fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            z-index: -1;
        }

        /* é¡µé¢ä¸»ä½“å±…ä¸­ */
        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* æ ¸å¿ƒç¤¼ç›’å¼¹çª—å¡ç‰‡ */
        .gift-card {
            width: 320px;
            height: 360px;
            background: #ffffff;
            border-radius: 16px;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
            text-align: center;
            padding: 50px 30px;
            position: relative;
            z-index: 10;
        }

        /* é¡¶éƒ¨æ¸å˜å›¾æ ‡ */
        .gift-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1);
            border-radius: 12px;
            margin: 0 auto 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 32px;
            font-weight: bold;
        }

        /* æ–‡å­—æ ·å¼ */
        .card-title {
            font-size: 24px;
            color: #333333;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .card-desc {
            font-size: 15px;
            color: #666666;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        /* ç´«è‰²æŒ‰é’® */
        .open-btn {
            width: 100%;
            height: 50px;
            background: linear-gradient(90deg, #6c5ce7, #a29bfe);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 17px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .open-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
        }

        /* ç»“æœå¼¹çª—ï¼ˆé»˜è®¤éšè—ï¼‰ */
        .result-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .result-content {
            width: 300px;
            background: white;
            border-radius: 16px;
            padding: 35px 25px;
            text-align: center;
            animation: popIn 0.4s ease;
        }

        /* ä¸­å¥–å¼¹çª—ç‰¹æ®Šæ ·å¼ */
        .result-content.win {
            background: linear-gradient(135deg, #fff8e1, #fff3cd);
            border: 2px solid #ffc107;
        }

        @keyframes popIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .result-icon {
            font-size: 50px;
            margin-bottom: 20px;
        }

        .result-text {
            font-size: 20px;
            color: #333;
            margin-bottom: 25px;
            font-weight: 600;
        }

        /* ä¸­å¥–æ–‡å­—é¢œè‰² */
        .result-text.win-text {
            color: #ff8c00;
        }

        .close-btn {
            padding: 10px 25px;
            background: #6c5ce7;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.2s ease;
        }

        /* ä¸­å¥–æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
        .close-btn.win-btn {
            background: linear-gradient(90deg, #ffc107, #ff8c00);
        }

        .close-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- çƒŸèŠ±èƒŒæ™¯å®¹å™¨ -->
    <div id="fireworks-container"></div>

    <!-- æ ¸å¿ƒç¤¼ç›’å¼¹çª— -->
    <div class="gift-card">
        <div class="gift-icon">ğŸ</div>
        <h3 class="card-title">é™¤å¤•å¿«ä¹</h3>
        <p class="card-desc">ä¸ºæ‚¨ç²¾å¿ƒå‡†å¤‡äº†ä¸€ä»½ç‰¹åˆ«çš„é™¤å¤•ç¤¼ç‰©</p>
        <button class="open-btn">å¼€å¯ç¤¼ç‰©</button>
    </div>

    <!-- ç»“æœå¼¹çª— -->
    <div class="result-modal" id="resultModal">
        <div class="result-content" id="resultContent">
            <div class="result-icon" id="resultIcon">ğŸ˜¥</div>
            <div class="result-text" id="resultText">å¾ˆé—æ†¾ï¼Œæœ¬æ¬¡æœªä¸­å¥–</div>
            <button class="close-btn" id="closeResult">çŸ¥é“äº†</button>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡ï¼šæ§åˆ¶ä¸­å¥–æ—¶çƒŸèŠ±å¯†åº¦
        let isWin = false;
        
        // 1. æŠ½å¥–é€»è¾‘ï¼ˆ1%æ¦‚ç‡ä¸­å¥–ï¼‰
        const openBtn = document.querySelector('.open-btn');
        const resultModal = document.getElementById('resultModal');
        const closeResult = document.getElementById('closeResult');
        const resultContent = document.getElementById('resultContent');
        const resultIcon = document.getElementById('resultIcon');
        const resultText = document.getElementById('resultText');

        openBtn.addEventListener('click', () => {
            // ç”Ÿæˆ0-99çš„éšæœºæ•°ï¼Œ1%æ¦‚ç‡ï¼ˆæ•°å­—99ï¼‰ä¸­å¥–
            const randomNum = Math.floor(Math.random() * 100);
            isWin = randomNum === 99;

            // æ›´æ–°å¼¹çª—æ ·å¼å’Œå†…å®¹
            if (isWin) {
                // ä¸­å¥–æ ·å¼
                resultContent.classList.add('win');
                resultIcon.textContent = 'ğŸ‰';
                resultText.textContent = 'æ­å–œä½ ï¼Œä¸­å¥–å•¦ï¼';
                resultText.classList.add('win-text');
                closeResult.classList.add('win-btn');
            } else {
                // æœªä¸­å¥–æ ·å¼
                resultContent.classList.remove('win');
                resultIcon.textContent = 'ğŸ˜¥';
                resultText.textContent = 'å¾ˆé—æ†¾ï¼Œæœ¬æ¬¡æœªä¸­å¥–';
                resultText.classList.remove('win-text');
                closeResult.classList.remove('win-btn');
            }
            
            // æ˜¾ç¤ºå¼¹çª—
            resultModal.style.display = 'flex';
        });

        closeResult.addEventListener('click', () => {
            resultModal.style.display = 'none';
            // é‡ç½®ä¸­å¥–çŠ¶æ€
            isWin = false;
        });

        // 2. å…¨å±çƒŸèŠ±æ•ˆæœï¼ˆä¸­å¥–æ—¶æ›´å¯†é›†ï¼‰
        (function() {
            const container = document.getElementById('fireworks-container');
            let particles = [];

            function createFirework(x, y) {
                const colors = ['#ff0043', '#ffdd00', '#00ff88', '#00aaff', '#ff00ff'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                // ä¸­å¥–æ—¶çƒŸèŠ±ç²’å­æ•°é‡ç¿»å€
                const particleCount = isWin ? 160 : 80;
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: x,
                        y: y,
                        vx: (Math.random() - 0.5) * (isWin ? 8 : 6),
                        vy: (Math.random() - 0.5) * (isWin ? 8 : 6),
                        life: 1,
                        decay: 0.02,
                        color: color
                    });
                }
            }

            function loop() {
                container.innerHTML = '';
                // ä¸­å¥–æ—¶çƒŸèŠ±å‡ºç°æ¦‚ç‡æå‡3å€
                const fireworkProb = isWin ? 0.15 : 0.05;
                if (Math.random() < fireworkProb) {
                    createFirework(
                        Math.random() * window.innerWidth,
                        Math.random() * window.innerHeight * 0.7
                    );
                }
                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.x += p.vx;
                    p.y += p.vy;
                    p.vy += 0.02;
                    p.life -= p.decay;
                    if (p.life <= 0) {
                        particles.splice(i, 1);
                        continue;
                    }
                    const dot = document.createElement('div');
                    dot.style.position = 'absolute';
                    dot.style.left = p.x + 'px';
                    dot.style.top = p.y + 'px';
                    dot.style.width = '2px';
                    dot.style.height = '2px';
                    dot.style.background = p.color;
                    dot.style.borderRadius = '50%';
                    dot.style.opacity = p.life;
                    container.appendChild(dot);
                }
                requestAnimationFrame(loop);
            }
            loop();
        })();
    </script>
</body>
</html>